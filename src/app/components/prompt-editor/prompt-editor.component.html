

<div
  style="
    background-color: var(--panel);
    border: 1px solid var(--border-color);
    border-radius: 24px;
    max-width: 768px;
    margin: auto;
    display: block;
  "
>
<div class="d-flex align-items-center prompt p-1 pe-0 gap-1">
  <div class="dropdown">
    <i
      class="bi bi-plus-lg fs-3"
      style="cursor: pointer"
      (click)="toggleChips()"
    ></i>
  </div>

  <input
    id="prompt"
    [(ngModel)]="text"
    rows="2"
    placeholder="Type your question or prompt..."
  />

  <!-- Mic Button -->
   <!-- Mic Button - Updated with better accessibility -->
<button
  class="btn btn-secondary"
  type="button"
  (click)="toggleMic()"
  style="border-radius: 50%"
  [ngClass]="{ 'bg-danger': listening }"
  [attr.aria-pressed]="listening"
  [attr.aria-label]="listening ? 'Stop listening' : 'Start listening'"
>
  <i class="bi" [ngClass]="listening ? 'bi-mic-mute-fill' : 'bi-mic-fill'"></i>
</button>


  <div class="d-flex">
    <button
      class="btn btn-primary"
      (click)="onSend()"
      [disabled]="loading"
      aria-label="Send"
      style="border-radius: 50% 50% 50% 9%"
    >
      <i
        [ngClass]="{ 'bi bi-send-fill': !loading, 'spinner-border': loading }"
      ></i>
    </button>
  </div>
</div>

<div class="chips-container-wrapper" [class.show]="chipsVisible">
  <div class="chips-container">
    <span class="chip" (click)="downloadJSONs()">
      <i class="bi bi-download"></i>
      <span class="chip-text">Download JSON</span>
    </span>

    <span class="chip" (click)="onSave()">
      <i class="bi bi-save"></i>
      <span class="chip-text">Save Template</span>
    </span>

    <span class="chip" (click)="openDocumentAnalyzer()">
      <i class="bi bi-file-earmark-text"></i>
      <span class="chip-text">Doc Review</span>
    </span>

    <span class="chip" (click)="clearChats()">
      <i class="bi bi-trash"></i>
      <span class="chip-text">Clear Chat</span>
    </span>
  </div>
</div>


</div>
